{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "データ ファクトリ名",
			"defaultValue": "ADF-taizawa002"
		},
		"MySqlOnVM_connectionString": {
			"type": "secureString",
			"metadata": "'MySqlOnVM' の 'connectionString' のセキュリティで保護された文字列"
		},
		"PostgreSql1_connectionString": {
			"type": "secureString",
			"metadata": "'PostgreSql1' の 'connectionString' のセキュリティで保護された文字列"
		},
		"Salesforce1_password": {
			"type": "secureString",
			"metadata": "'Salesforce1' の 'password' のセキュリティで保護された文字列"
		},
		"Salesforce1_securityToken": {
			"type": "secureString",
			"metadata": "'Salesforce1' の 'securityToken' のセキュリティで保護された文字列"
		},
		"SalesforceServiceCloud1_password": {
			"type": "secureString",
			"metadata": "'SalesforceServiceCloud1' の 'password' のセキュリティで保護された文字列"
		},
		"SalesforceServiceCloud1_securityToken": {
			"type": "secureString",
			"metadata": "'SalesforceServiceCloud1' の 'securityToken' のセキュリティで保護された文字列"
		},
		"SapOdp1_password": {
			"type": "secureString",
			"metadata": "'SapOdp1' の 'password' のセキュリティで保護された文字列"
		},
		"SapTable1_password": {
			"type": "secureString",
			"metadata": "'SapTable1' の 'password' のセキュリティで保護された文字列"
		},
		"Sftp1_password": {
			"type": "secureString",
			"metadata": "'Sftp1' の 'password' のセキュリティで保護された文字列"
		},
		"Sftp2_password": {
			"type": "secureString",
			"metadata": "'Sftp2' の 'password' のセキュリティで保護された文字列"
		},
		"SharePointOnlineList1_servicePrincipalKey": {
			"type": "secureString",
			"metadata": "'SharePointOnlineList1' の 'servicePrincipalKey' のセキュリティで保護された文字列"
		},
		"SharePointOnlineList_admin2_servicePrincipalKey": {
			"type": "secureString",
			"metadata": "'SharePointOnlineList_admin2' の 'servicePrincipalKey' のセキュリティで保護された文字列"
		},
		"SharePointOnlineList_owner02_servicePrincipalKey": {
			"type": "secureString",
			"metadata": "'SharePointOnlineList_owner02' の 'servicePrincipalKey' のセキュリティで保護された文字列"
		},
		"Snowflake1_connectionString": {
			"type": "secureString",
			"metadata": "'Snowflake1' の 'connectionString' のセキュリティで保護された文字列"
		},
		"HttpServer3_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://countries.trevorblades.com/"
		},
		"HttpServer_2301180060001129_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://storageacctaizawa.z11.web.core.windows.net/cars.csv"
		},
		"Rest_2303060060000184_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://disclosure.edinet-fsa.go.jp/api/v1/documents.json?date=2019-04-01&type=2"
		},
		"Salesforce1_properties_typeProperties_environmentUrl": {
			"type": "string",
			"defaultValue": "https://mskk-taizawa-dev-ed.my.salesforce.com"
		},
		"Salesforce1_properties_typeProperties_username": {
			"type": "string",
			"defaultValue": " aizawax512+api01@gmail.com"
		},
		"SalesforceServiceCloud1_properties_typeProperties_environmentUrl": {
			"type": "string",
			"defaultValue": "https://login.salesforce.com"
		},
		"SalesforceServiceCloud1_properties_typeProperties_username": {
			"type": "string",
			"defaultValue": "testtest"
		},
		"SapOdp1_properties_typeProperties_clientId": {
			"type": "string",
			"defaultValue": "aaa"
		},
		"SapOdp1_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "aaa"
		},
		"SapOdp1_properties_typeProperties_server": {
			"type": "string",
			"defaultValue": "aaa"
		},
		"SapOdp1_properties_typeProperties_systemNumber": {
			"type": "string",
			"defaultValue": "aaa"
		},
		"SapTable1_properties_typeProperties_clientId": {
			"type": "string",
			"defaultValue": "test"
		},
		"SapTable1_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "test"
		},
		"SapTable1_properties_typeProperties_server": {
			"type": "string",
			"defaultValue": "test"
		},
		"SapTable1_properties_typeProperties_systemNumber": {
			"type": "string",
			"defaultValue": "test"
		},
		"Sftp1_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "localhost"
		},
		"Sftp1_properties_typeProperties_hostKeyFingerprint": {
			"type": "string",
			"defaultValue": "ssh-rsa 3072 8c:bd:37:22:f2:c9:fa:4a:4c:cf:77:f8:14:34:e3:83"
		},
		"Sftp1_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "administrator"
		},
		"Sftp2_properties_typeProperties_host": {
			"type": "string",
			"defaultValue": "localhost"
		},
		"Sftp2_properties_typeProperties_userName": {
			"type": "string",
			"defaultValue": "ftp_user"
		},
		"SharePointOnlineList1_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "4d0976c7-9efc-4b69-b2bf-e5dbc1d38a13"
		},
		"SharePointOnlineList2_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "4d0976c7-9efc-4b69-b2bf-e5dbc1d38a13"
		},
		"SharePointOnlineList_admin2_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "bcb3ef6d-233f-4a5f-a65c-736adf68a47e"
		},
		"SharePointOnlineList_owner02_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "b129a7ab-f323-4f8d-83ef-102d320f3267"
		},
		"linkedService_for _staging_properties_typeProperties_serviceEndpoint": {
			"type": "string",
			"defaultValue": "https://taizawa4staging.blob.core.windows.net/"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/HttpServer3')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "HttpServer",
				"typeProperties": {
					"url": "[parameters('HttpServer3_properties_typeProperties_url')]",
					"enableServerCertificateValidation": false,
					"authenticationType": "Anonymous"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/HttpServer_2301180060001129')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "BlobからCSVを取得",
				"annotations": [],
				"type": "HttpServer",
				"typeProperties": {
					"url": "[parameters('HttpServer_2301180060001129_properties_typeProperties_url')]",
					"enableServerCertificateValidation": false,
					"authenticationType": "Anonymous"
				},
				"connectVia": {
					"referenceName": "AzureintegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/MySqlOnVM')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "VM (TaizawaTest01) 上のMySQL",
				"annotations": [],
				"type": "MySql",
				"typeProperties": {
					"connectionString": "[parameters('MySqlOnVM_connectionString')]"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa3",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PostgreSql1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "PostgreSql",
				"typeProperties": {
					"connectionString": "[parameters('PostgreSql1_connectionString')]"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Rest_2303060060000184')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "https://disclosure.edinet-fsa.go.jp/api/v1/documents.json?date=2019-04-01&type=2\nから取得",
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('Rest_2303060060000184_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				},
				"connectVia": {
					"referenceName": "AzureintegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Salesforce1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Salesforce",
				"typeProperties": {
					"environmentUrl": "[parameters('Salesforce1_properties_typeProperties_environmentUrl')]",
					"username": "[parameters('Salesforce1_properties_typeProperties_username')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('Salesforce1_password')]"
					},
					"securityToken": {
						"type": "SecureString",
						"value": "[parameters('Salesforce1_securityToken')]"
					},
					"apiVersion": "54.0",
					"extendedProperties": "ProxyHost=localhost;ProxyPort=3128;CertsPath=C:\\temp\\cafile\\Sf_dev202102.cer"
				},
				"connectVia": {
					"referenceName": "AzureintegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SalesforceServiceCloud1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"parameters": {
					"aaa": {
						"type": "string",
						"defaultValue": "bbb"
					}
				},
				"annotations": [],
				"type": "SalesforceServiceCloud",
				"typeProperties": {
					"environmentUrl": "[parameters('SalesforceServiceCloud1_properties_typeProperties_environmentUrl')]",
					"username": "[parameters('SalesforceServiceCloud1_properties_typeProperties_username')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SalesforceServiceCloud1_password')]"
					},
					"securityToken": {
						"type": "SecureString",
						"value": "[parameters('SalesforceServiceCloud1_securityToken')]"
					},
					"apiVersion": "52.0"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SapOdp1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SapOdp",
				"typeProperties": {
					"clientId": "[parameters('SapOdp1_properties_typeProperties_clientId')]",
					"language": "aaa",
					"sncMode": false,
					"userName": "[parameters('SapOdp1_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SapOdp1_password')]"
					},
					"server": "[parameters('SapOdp1_properties_typeProperties_server')]",
					"systemNumber": "[parameters('SapOdp1_properties_typeProperties_systemNumber')]"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SapTable1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "てすと",
				"annotations": [],
				"type": "SapTable",
				"typeProperties": {
					"clientId": "[parameters('SapTable1_properties_typeProperties_clientId')]",
					"sncMode": false,
					"userName": "[parameters('SapTable1_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SapTable1_password')]"
					},
					"server": "[parameters('SapTable1_properties_typeProperties_server')]",
					"systemNumber": "[parameters('SapTable1_properties_typeProperties_systemNumber')]"
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Sftp1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Sftp",
				"typeProperties": {
					"host": "[parameters('Sftp1_properties_typeProperties_host')]",
					"port": 22,
					"skipHostKeyValidation": false,
					"hostKeyFingerprint": "[parameters('Sftp1_properties_typeProperties_hostKeyFingerprint')]",
					"authenticationType": "Basic",
					"userName": "[parameters('Sftp1_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('Sftp1_password')]"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa1",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Sftp2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Sftp",
				"typeProperties": {
					"host": "[parameters('Sftp2_properties_typeProperties_host')]",
					"port": 22,
					"skipHostKeyValidation": true,
					"authenticationType": "Basic",
					"userName": "[parameters('Sftp2_properties_typeProperties_userName')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('Sftp2_password')]"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharePointOnlineList1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SharePointOnlineList",
				"typeProperties": {
					"siteUrl": "https://jpdsd2.sharepoint.com/sites/SiteTest20230301",
					"tenantId": "a0a58ec7-09e8-41f9-ae5a-0d67d1ccabc5",
					"servicePrincipalId": "[parameters('SharePointOnlineList1_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalKey": {
						"type": "SecureString",
						"value": "[parameters('SharePointOnlineList1_servicePrincipalKey')]"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharePointOnlineList2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SharePointOnlineList",
				"typeProperties": {
					"siteUrl": "https://jpdsd2.sharepoint.com/sites/SiteTest20230301",
					"tenantId": "a0a58ec7-09e8-41f9-ae5a-0d67d1ccabc5",
					"servicePrincipalId": "[parameters('SharePointOnlineList2_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalKey": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVault1",
							"type": "LinkedServiceReference"
						},
						"secretName": "SharePoint-jpdsd2"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharePointOnlineList_admin2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SharePointOnlineList",
				"typeProperties": {
					"siteUrl": "https://m365x78964420.sharepoint.com/sites/Test/",
					"tenantId": "258711a2-7ca6-44f7-b8c8-2e5fb1833f7c",
					"servicePrincipalId": "[parameters('SharePointOnlineList_admin2_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalKey": {
						"type": "SecureString",
						"value": "[parameters('SharePointOnlineList_admin2_servicePrincipalKey')]"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SharePointOnlineList_owner02')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SharePointOnlineList",
				"typeProperties": {
					"siteUrl": "https://m365x78964420.sharepoint.com/sites/Test/",
					"tenantId": "258711a2-7ca6-44f7-b8c8-2e5fb1833f7c",
					"servicePrincipalId": "[parameters('SharePointOnlineList_owner02_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalKey": {
						"type": "SecureString",
						"value": "[parameters('SharePointOnlineList_owner02_servicePrincipalKey')]"
					}
				},
				"connectVia": {
					"referenceName": "SHIR-taizawa2",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Snowflake1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Snowflake",
				"typeProperties": {
					"authenticationType": "Basic",
					"connectionString": "[parameters('Snowflake1_connectionString')]"
				},
				"connectVia": {
					"referenceName": "AzureintegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/linkedService_for _staging')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"serviceEndpoint": "[parameters('linkedService_for _staging_properties_typeProperties_serviceEndpoint')]",
					"accountKind": "StorageV2"
				},
				"connectVia": {
					"referenceName": "AzureintegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/0805Test01_1')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipeline": {
					"pipelineReference": {
						"referenceName": "pipeline4",
						"type": "PipelineReference"
					},
					"parameters": {}
				},
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Minute",
					"interval": 15,
					"startTime": "2022-08-05T02:16:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 1,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": []
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/0805Test01_2')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipeline": {
					"pipelineReference": {
						"referenceName": "pipeline4",
						"type": "PipelineReference"
					},
					"parameters": {}
				},
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Minute",
					"interval": 15,
					"startTime": "2022-08-05T02:18:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 2,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": []
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/0825Test_01')]",
			"type": "Microsoft.DataFactory/factories/triggers",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"runtimeState": "Stopped",
				"pipeline": {
					"pipelineReference": {
						"referenceName": "pipeline4",
						"type": "PipelineReference"
					},
					"parameters": {}
				},
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Minute",
					"interval": 15,
					"startTime": "2022-08-25T07:30:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 1,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": [
						{
							"type": "SelfDependencyTumblingWindowTriggerReference",
							"offset": "-0.15:00:00"
						}
					]
				}
			},
			"dependsOn": []
		}
	]
}